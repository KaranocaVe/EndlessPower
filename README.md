# EndlessPowerï¼ˆv2ï¼‰- å……ç”µæ¡©å®æ—¶æŸ¥è¯¢åœ°å›¾

æ—§ç‰ˆé¡¹ç›®å·²è¿ç§»è‡³ `legacy/`ï¼Œå½“å‰ç›®å½•ä¸ºå…¨æ–°é‡å†™ç‰ˆæœ¬ï¼ˆReact + Vite + TypeScriptï¼‰ã€‚

## âœ¨ åŠŸèƒ½

- **åœ°å›¾æ˜¾ç¤º**ï¼šMapLibre + CARTO çŸ¢é‡åº•å›¾ï¼Œæ”¯æŒ **3D å»ºç­‘**ï¼ˆç«‹ä½“æ¥¼å—ï¼‰
- **ä¸­å›½åæ ‡çº å**ï¼šå¯é€‰ GCJ-02 â†” WGS84 è½¬æ¢ï¼Œç¡®ä¿ç‚¹ä½ä¸çŸ¢é‡åº•å›¾å¯¹é½
- **å……ç”µæ¡©æŸ¥è¯¢**ï¼šé™„è¿‘å……ç”µç«™ã€çŠ¶æ€è‰²å½©åŒºåˆ†ã€é˜²é‡å åç§»ã€ç¡¬ç¼–ç ä½ç½®è¦†ç›–
- **æœç´¢ä¸æ”¶è—**ï¼šæ¨¡ç³Šæœç´¢ + æœ¬åœ°æŒä¹…åŒ–æ”¶è—/ç½®é¡¶
- **æ’åº§ç›‘æ§**ï¼šåŠŸç‡æ›²çº¿ã€è´¹ç”¨/ç”µé‡ç»Ÿè®¡ã€è½®è¯¢é—´éš”ã€Wake Lock + é™éŸ³éŸ³é¢‘ä¿æ´»
- **PWA**ï¼šç¦»çº¿ç¼“å­˜ã€æ›´æ–°æç¤ºã€å®‰è£…æç¤ºã€æ·±æµ…è‰²ä¸»é¢˜

## ğŸ§± æŠ€æœ¯æ ˆ

- React 19 + TypeScript + Vite 7
- HeroUI v3ï¼š`@heroui/react` + `@heroui/styles`
- MapLibre GL JS
- Zustand
- Cloudflare Workersï¼ˆé™æ€èµ„æº + `/api/*` åä»£ + è®¿é—®è€…è®¡æ•° WebSocketï¼‰
- Playwrightï¼ˆE2Eï¼‰

> è¯´æ˜ï¼šé¡¹ç›®ä¸ä¾èµ– Tailwind åš UI å¼€å‘ï¼Œä½† HeroUI v3 çš„æ ·å¼æ„å»ºä»éœ€è¦ Tailwind ä½œä¸ºæ„å»ºä¾èµ–ã€‚

## ğŸš€ å¼€å‘

```bash
npm install
npm run dev
```

## ğŸ§ª æµ‹è¯•

```bash
npm test
```

## ğŸ“¦ æ„å»º & éƒ¨ç½²ï¼ˆCloudflareï¼‰

```bash
npm run build
```

> Cloudflare çš„æ„å»ºç¯å¢ƒç›®å‰ä½¿ç”¨ `npm@10`ï¼Œå®ƒåœ¨å®‰è£… `wrangler`ï¼ˆä¾èµ– `workerd`ï¼‰æ—¶ä¼šè§¦å‘ `Invalid Version` çš„å·²çŸ¥é—®é¢˜ã€‚
> å› æ­¤æœ¬é¡¹ç›®ä¸å†æŠŠ `wrangler` æ”¾è¿›ä¾èµ–é‡Œï¼›ä½¿ç”¨ Cloudflare çš„ Git é›†æˆ/æ§åˆ¶å°å‘å¸ƒå³å¯ã€‚
> å¦å¤–å»ºè®®åœ¨ Cloudflare é¡¹ç›®ç¯å¢ƒå˜é‡é‡Œè®¾ç½® `PLAYWRIGHT_SKIP_BROWSER_DOWNLOAD=1`ï¼Œé¿å…å®‰è£…ä¾èµ–æ—¶ä¸‹è½½æµè§ˆå™¨ï¼ˆæ„å»ºä¸éœ€è¦è·‘ E2Eï¼‰ã€‚
>
> å¦‚æœä½ éœ€è¦æœ¬åœ°æ‰‹åŠ¨å‘å¸ƒï¼Œè¯·è‡ªè¡Œå®‰è£… `wrangler` CLIï¼ˆå»ºè®®ä½¿ç”¨ `npm@11+` æˆ– `pnpm`ï¼‰ï¼Œç„¶åè¿è¡Œï¼š
> `wrangler deploy --env dev` / `wrangler deploy --env production`ã€‚

## ğŸ”§ ç¯å¢ƒå˜é‡

- `VITE_MAP_STYLE`ï¼šè¦†ç›–åœ°å›¾æ ·å¼ URLï¼ˆç”¨äº E2E / è‡ªå®šä¹‰åº•å›¾ï¼‰
